(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[102],{9816:(e,t,l)=>{Promise.resolve().then(l.bind(l,7114))},5565:(e,t,l)=>{"use strict";l.d(t,{default:()=>a.a});var r=l(4146),a=l.n(r)},5828:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var l in t)Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}(t,{callServer:function(){return r.callServer},createServerReference:function(){return s},findSourceMapURL:function(){return a.findSourceMapURL}});let r=l(9603),a=l(3355),s=l(4979).createServerReference},4146:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var l in t)Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}(t,{default:function(){return d},getImageProps:function(){return c}});let r=l(306),a=l(666),s=l(7970),i=r._(l(5514));function c(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,l]of Object.entries(t))void 0===l&&delete t[e];return{props:t}}let d=s.Image},1486:(e,t,l)=>{"use strict";l.d(t,{A:()=>i});var r=l(5155),a=l(5565),s=l(2115);function i(e){let{initialValue:t=null,keyName:l,label:i}=e,[c,d]=(0,s.useState)(t);return(0,s.useEffect)(()=>()=>{c&&URL.revokeObjectURL(c)},[c]),(0,r.jsxs)("div",{className:"flex flex-col",children:[i&&(0,r.jsx)("label",{htmlFor:l,children:i}),(0,r.jsx)("input",{onChange:e=>{var t;let l=null===(t=e.target.files)||void 0===t?void 0:t[0];l&&d(URL.createObjectURL(l))},type:"file",name:l,id:l,accept:"image/*"}),c&&(0,r.jsx)(a.default,{src:c,alt:l,width:200,height:200,className:"w-[200px] h-[200px] object-cover"})]})}},1252:(e,t,l)=>{"use strict";l.d(t,{A:()=>s});var r=l(5155),a=l(530);function s(e){let{showRequired:t=!0,label:l,hidden:s,...i}=e,c="checkbox"===i.type,d="radio"===i.type,n=l&&l.length>0;if(c)return(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("input",{...i}),(0,r.jsx)("label",{htmlFor:i.id,className:"ml-2 text-sm",children:l})]});if(d){var o;return(0,r.jsxs)("label",{htmlFor:i.id,className:"flex border border-gray-300 rounded-2xl p-3 mb-1",children:[(0,r.jsx)("input",{...i}),(0,r.jsxs)("div",{className:"flex justify-between w-full",children:[(0,r.jsx)("p",{className:"ml-2 text-lg",children:l}),(0,r.jsx)("p",{className:"mr-2 text-sm font-medium",children:null===(o=a.C.get(Number(i.value)||1))||void 0===o?void 0:o.cost.toLocaleString("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0})})]})]})}return(0,r.jsx)("div",{className:"flex flex-col"+(s?" hidden":""),children:n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{htmlFor:i.id,className:"ml-2 mb-3",children:l}),(0,r.jsxs)("div",{className:"relative flex max-w-[400px]",children:[(0,r.jsx)("input",{...i,className:"bg-white-100 flex-1 rounded-2xl py-4 px-6 text-base border-none mb-3 "+i.className}),i.required&&t&&(0,r.jsx)("span",{className:"text-red-500 absolute right-4 top-[calc(50%-16px)]",children:"*"})]})]}):(0,r.jsxs)("div",{className:"relative flex max-w-[400px]",children:[(0,r.jsx)("input",{...i,className:"bg-white-100 flex-1 rounded-2xl py-4 px-6 text-base border-none mb-3 "+i.className}),i.required&&t&&(0,r.jsx)("span",{className:"text-red-500 absolute right-4 "+(n?"top-[calc(50%+2px)]":"top-[calc(50%-16px)]"),children:"*"})]})})}},5274:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});var r=l(5155);function a(e){let{label:t,...l}=e;return t&&t.length>0?(0,r.jsxs)("div",{className:"flex flex-col relative",children:[(0,r.jsx)("label",{htmlFor:l.id,className:"ml-2 mb-3",children:t}),(0,r.jsx)("textarea",{id:l.id,className:"bg-white-100 rounded-2xl py-4 px-6 text-base border-none mb-3 resize-y",...l})]}):(0,r.jsx)("textarea",{className:"bg-white-100 flex w-full max-w-[400px] rounded-2xl py-4 px-6 text-base border-none mb-3 resize-y",...l})}l(2115)},7114:(e,t,l)=>{"use strict";l.d(t,{default:()=>o});var r=l(5155),a=l(2115),s=l(1252),i=l(5274),c=l(1486),d=l(5828);let n=(0,d.createServerReference)("6007dfffdd2b0369eac7b0da9f9d5bd463558dcc34",d.callServer,void 0,d.findSourceMapURL,"default");function o(){let[e,t,l]=(0,a.useActionState)(n,{error:null,ok:!1,data:{}});return(0,a.useEffect)(()=>{e.ok&&console.log("state",e)},[e]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("form",{className:"flex flex-col mb-4",action:t,children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("div",{className:"flex-1 mr-4",children:[(0,r.jsx)(s.A,{type:"text",name:"title",id:"title",placeholder:"Название",required:!0}),(0,r.jsx)(i.A,{name:"description",id:"description",placeholder:"Описание"}),(0,r.jsx)(s.A,{type:"text",name:"sku",id:"sku",placeholder:"Артикул",required:!0}),(0,r.jsx)(s.A,{type:"number",name:"price",id:"price",placeholder:"Цена",required:!0})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)(s.A,{type:"number",name:"discount",id:"discount",placeholder:"Скидка"}),(0,r.jsx)(s.A,{type:"number",name:"stock",id:"stock",placeholder:"Наличие",required:!0}),(0,r.jsx)(s.A,{type:"text",name:"categoryId",id:"categoryId",placeholder:"Категория [id]"}),(0,r.jsx)(s.A,{type:"text",name:"keywordSearch",id:"keywordSearch",placeholder:"Ключевые слова"}),(0,r.jsx)(s.A,{type:"text",name:"deliveryInfo",id:"deliveryInfo",placeholder:"Информация о доставке"})]})]}),(0,r.jsx)(s.A,{label:"Добавить на главный экран",type:"checkbox",name:"isFeatured",id:"isFeatured"}),(0,r.jsx)(s.A,{label:"Активировать",type:"checkbox",name:"isActive",id:"isActive"}),(0,r.jsx)(c.A,{label:"Превью",keyName:"preview"}),(0,r.jsx)("h2",{className:"text-2xl mb-1",children:"Галерея"}),(0,r.jsxs)("div",{className:"flex flex-wrap",children:[(0,r.jsx)(c.A,{label:"Изображение 1",keyName:"image1"}),(0,r.jsx)(c.A,{label:"Изображение 2",keyName:"image2"}),(0,r.jsx)(c.A,{label:"Изображение 3",keyName:"image3"}),(0,r.jsx)(c.A,{label:"Изображение 4",keyName:"image4"}),(0,r.jsx)(c.A,{label:"Изображение 5",keyName:"image5"})]}),e.error&&(0,r.jsx)("pre",{children:JSON.stringify(e)}),(0,r.jsx)("button",{disabled:l,className:"bg-orange-400 rounded-2xl py-4 px-6 text-base border-none mt-8 text-white-100 hover:bg-orange-500 disabled:bg-gray-400",type:"submit",children:"Создать"})]})})}},530:(e,t,l)=>{"use strict";l.d(t,{C:()=>r});let r=new Map([[1,{cost:0,title:"Самовывоз"}],[2,{cost:500,title:"Доставка СДЭК"}],[3,{cost:1e3,title:"Доставка Курьером"}],[4,{cost:1500,title:"Доставка почтой России"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[970,441,517,358],()=>t(9816)),_N_E=e.O()}]);