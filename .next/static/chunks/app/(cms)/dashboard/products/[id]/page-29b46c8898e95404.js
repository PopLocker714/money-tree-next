(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{1866:(e,l,t)=>{Promise.resolve().then(t.t.bind(t,8173,23)),Promise.resolve().then(t.t.bind(t,7970,23)),Promise.resolve().then(t.bind(t,2145)),Promise.resolve().then(t.bind(t,4868))},5565:(e,l,t)=>{"use strict";t.d(l,{default:()=>a.a});var r=t(4146),a=t.n(r)},5828:(e,l,t)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(e,l){for(var t in l)Object.defineProperty(e,t,{enumerable:!0,get:l[t]})}(l,{callServer:function(){return r.callServer},createServerReference:function(){return i},findSourceMapURL:function(){return a.findSourceMapURL}});let r=t(9603),a=t(3355),i=t(4979).createServerReference},4146:(e,l,t)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(e,l){for(var t in l)Object.defineProperty(e,t,{enumerable:!0,get:l[t]})}(l,{default:function(){return n},getImageProps:function(){return d}});let r=t(306),a=t(666),i=t(7970),s=r._(t(5514));function d(e){let{props:l}=(0,a.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,t]of Object.entries(l))void 0===t&&delete l[e];return{props:l}}let n=i.Image},1486:(e,l,t)=>{"use strict";t.d(l,{A:()=>s});var r=t(5155),a=t(5565),i=t(2115);function s(e){let{initialValue:l=null,keyName:t,label:s}=e,[d,n]=(0,i.useState)(l);return(0,i.useEffect)(()=>()=>{d&&URL.revokeObjectURL(d)},[d]),(0,r.jsxs)("div",{className:"flex flex-col",children:[s&&(0,r.jsx)("label",{htmlFor:t,children:s}),(0,r.jsx)("input",{onChange:e=>{var l;let t=null===(l=e.target.files)||void 0===l?void 0:l[0];t&&n(URL.createObjectURL(t))},type:"file",name:t,id:t,accept:"image/*"}),d&&(0,r.jsx)(a.default,{src:d,alt:t,width:200,height:200,className:"w-[200px] h-[200px] object-cover"})]})}},1252:(e,l,t)=>{"use strict";t.d(l,{A:()=>i});var r=t(5155),a=t(530);function i(e){let{showRequired:l=!0,label:t,hidden:i,...s}=e,d="checkbox"===s.type,n="radio"===s.type,c=t&&t.length>0;if(d)return(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("input",{...s}),(0,r.jsx)("label",{htmlFor:s.id,className:"ml-2 text-sm",children:t})]});if(n){var o;return(0,r.jsxs)("label",{htmlFor:s.id,className:"flex border border-gray-300 rounded-2xl p-3 mb-1",children:[(0,r.jsx)("input",{...s}),(0,r.jsxs)("div",{className:"flex justify-between w-full",children:[(0,r.jsx)("p",{className:"ml-2 text-lg",children:t}),(0,r.jsx)("p",{className:"mr-2 text-sm font-medium",children:null===(o=a.C.get(Number(s.value)||1))||void 0===o?void 0:o.cost.toLocaleString("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0})})]})]})}return(0,r.jsx)("div",{className:"flex flex-col"+(i?" hidden":""),children:c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{htmlFor:s.id,className:"ml-2 mb-3",children:t}),(0,r.jsxs)("div",{className:"relative flex max-w-[400px]",children:[(0,r.jsx)("input",{...s,className:"bg-white-100 flex-1 rounded-2xl py-4 px-6 text-base border-none mb-3 "+s.className}),s.required&&l&&(0,r.jsx)("span",{className:"text-red-500 absolute right-4 top-[calc(50%-16px)]",children:"*"})]})]}):(0,r.jsxs)("div",{className:"relative flex max-w-[400px]",children:[(0,r.jsx)("input",{...s,className:"bg-white-100 flex-1 rounded-2xl py-4 px-6 text-base border-none mb-3 "+s.className}),s.required&&l&&(0,r.jsx)("span",{className:"text-red-500 absolute right-4 "+(c?"top-[calc(50%+2px)]":"top-[calc(50%-16px)]"),children:"*"})]})})}},5274:(e,l,t)=>{"use strict";t.d(l,{A:()=>a});var r=t(5155);function a(e){let{label:l,...t}=e;return l&&l.length>0?(0,r.jsxs)("div",{className:"flex flex-col relative",children:[(0,r.jsx)("label",{htmlFor:t.id,className:"ml-2 mb-3",children:l}),(0,r.jsx)("textarea",{id:t.id,className:"bg-white-100 rounded-2xl py-4 px-6 text-base border-none mb-3 resize-y",...t})]}):(0,r.jsx)("textarea",{className:"bg-white-100 flex w-full max-w-[400px] rounded-2xl py-4 px-6 text-base border-none mb-3 resize-y",...t})}t(2115)},2145:(e,l,t)=>{"use strict";t.d(l,{default:()=>n});var r=t(5155),a=t(2115),i=t(1252),s=t(5828);let d=(0,s.createServerReference)("608b8bb9552620ddfa4045a57981e1e760f20164f0",s.callServer,void 0,s.findSourceMapURL,"deleteProductActon");function n(e){let{product:l}=e,[t,s,n]=(0,a.useActionState)(d,{data:{},ok:!1,error:null});return void 0===l?(0,r.jsx)("div",{children:"Product not found"}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("form",{className:"flex flex-col max-w-[400px] flex-1 mb-4",action:s,children:[(0,r.jsx)(i.A,{hidden:!0,label:"id",defaultValue:l.id,type:"number",name:"id",id:"id",placeholder:"id",required:!0}),t.error&&(0,r.jsx)("pre",{children:JSON.stringify(t)}),(0,r.jsx)("button",{disabled:n,className:"bg-red-400 rounded-2xl py-4 px-6 text-base border-none mt-8 text-white-100 hover:bg-red-500 disabled:bg-gray-400",type:"submit",children:"Удалить"})]})})}},4868:(e,l,t)=>{"use strict";t.d(l,{default:()=>o});var r=t(5155),a=t(2115),i=t(1252),s=t(5274),d=t(1486),n=t(5828);let c=(0,n.createServerReference)("60eb2bc28634e054a29bbd150ad0f578efaa1e64fc",n.callServer,void 0,n.findSourceMapURL,"default");function o(e){let{product:l}=e,[t,n,o]=(0,a.useActionState)(c,{error:null,data:{}}),u=JSON.parse(l.images||"[]");if(u.length<5)for(let e=u.length;e<5;e++)u.push(null);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("form",{className:"flex flex-col mb-4",action:n,children:[(0,r.jsxs)("div",{className:"flex w-full justify-between",children:[(0,r.jsxs)("div",{className:"flex-1 max-w-[400px] mr-4",children:[(0,r.jsx)(i.A,{label:"Название",defaultValue:l.title,type:"text",name:"title",id:"title",placeholder:"Название",required:!0}),(0,r.jsx)(s.A,{label:"Описание",defaultValue:l.description||"",name:"description",id:"description",placeholder:"Описание"}),(0,r.jsx)(i.A,{label:"Артикул",defaultValue:l.sku,type:"text",name:"sku",id:"sku",placeholder:"Артикул",required:!0}),(0,r.jsx)(i.A,{label:"Цена",defaultValue:l.price,type:"number",name:"price",id:"price",placeholder:"Цена",required:!0})]}),(0,r.jsxs)("div",{className:"flex-1 mr-4",children:[(0,r.jsx)(i.A,{label:"Скидка",defaultValue:l.discount||0,type:"number",name:"discount",id:"discount",placeholder:"Скидка"}),(0,r.jsx)(i.A,{label:"Наличие",defaultValue:l.stock,type:"number",name:"stock",id:"stock",placeholder:"Наличие",required:!0}),(0,r.jsx)(i.A,{label:"Категория",defaultValue:l.categoryId||"",type:"text",name:"categoryId",id:"categoryId",placeholder:"Категория [id]"}),(0,r.jsx)(i.A,{label:"Ключевые слова",defaultValue:l.keywordsSearch||"",type:"text",name:"keywordsSearch",id:"keywordsSearch",placeholder:"Ключевые слова"}),(0,r.jsx)(i.A,{name:"deliveryInfo",id:"deliveryInfo",label:"Информация о доставке",defaultValue:l.deliveryInfo||"",type:"text",placeholder:"Информация о доставке"})]})]}),(0,r.jsx)(i.A,{hidden:!0,label:"id",defaultValue:l.id,type:"number",name:"id",id:"id",placeholder:"id",required:!0}),(0,r.jsx)(i.A,{defaultChecked:l.isFeatured||void 0,label:"Добавить на главный экран",type:"checkbox",name:"isFeatured",id:"isFeatured"}),(0,r.jsx)(i.A,{defaultChecked:l.isActive||void 0,label:"Активировать",type:"checkbox",name:"isActive",id:"isActive"}),(0,r.jsx)(d.A,{label:"Превью",keyName:"preview",initialValue:l.previewImage}),(0,r.jsx)("h2",{className:"text-2xl mb-1",children:"Галерея"}),(0,r.jsx)("div",{className:"flex flex-wrap",children:u.map((e,l)=>(0,r.jsx)(d.A,{label:"Изображение ".concat(l+1),keyName:"image".concat(l+1),initialValue:e},e+"".concat(l+1)))}),t.error&&(0,r.jsx)("pre",{children:JSON.stringify(t)}),(0,r.jsx)("button",{disabled:o,className:"bg-orange-400 rounded-2xl py-4 px-6 text-base border-none mt-8 text-white-100 hover:bg-orange-500 disabled:bg-gray-400",type:"submit",children:"Обновить"})]})})}},530:(e,l,t)=>{"use strict";t.d(l,{C:()=>r});let r=new Map([[1,{cost:900,title:"Доставка ТК"}],[4,{cost:650,title:"Доставка почтой России"}]])}},e=>{var l=l=>e(e.s=l);e.O(0,[970,173,441,517,358],()=>l(1866)),_N_E=e.O()}]);