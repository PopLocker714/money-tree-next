(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[322],{453:(e,l,t)=>{Promise.resolve().then(t.t.bind(t,8173,23)),Promise.resolve().then(t.t.bind(t,231,23)),Promise.resolve().then(t.bind(t,3160)),Promise.resolve().then(t.bind(t,6849))},6648:(e,l,t)=>{"use strict";t.d(l,{default:()=>a.a});var r=t(5601),a=t.n(r)},8064:(e,l,t)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(e,l){for(var t in l)Object.defineProperty(e,t,{enumerable:!0,get:l[t]})}(l,{callServer:function(){return r.callServer},createServerReference:function(){return i},findSourceMapURL:function(){return a.findSourceMapURL}});let r=t(4590),a=t(6705),i=t(6671).createServerReference},5601:(e,l,t)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(e,l){for(var t in l)Object.defineProperty(e,t,{enumerable:!0,get:l[t]})}(l,{default:function(){return n},getImageProps:function(){return s}});let r=t(9920),a=t(497),i=t(8173),d=r._(t(1241));function s(e){let{props:l}=(0,a.getImgProps)(e,{defaultLoader:d.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,t]of Object.entries(l))void 0===t&&delete l[e];return{props:l}}let n=i.Image},7161:(e,l,t)=>{"use strict";t.d(l,{Z:()=>d});var r=t(7437),a=t(6648),i=t(2265);function d(e){let{initialValue:l=null,keyName:t,label:d}=e,[s,n]=(0,i.useState)(l);return(0,i.useEffect)(()=>()=>{s&&URL.revokeObjectURL(s)},[s]),(0,r.jsxs)("div",{className:"flex flex-col",children:[d&&(0,r.jsx)("label",{htmlFor:t,children:d}),(0,r.jsx)("input",{onChange:e=>{var l;let t=null===(l=e.target.files)||void 0===l?void 0:l[0];t&&n(URL.createObjectURL(t))},type:"file",name:t,id:t,accept:"image/*"}),s&&(0,r.jsx)(a.default,{src:s,alt:t,width:200,height:200,className:"w-[200px] h-[200px] object-cover"})]})}},1143:(e,l,t)=>{"use strict";t.d(l,{Z:()=>a});var r=t(7437);function a(e){let{showRequired:l=!0,label:t,hidden:a,...i}=e,d="checkbox"===i.type,s=t&&t.length>0;return d?(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("input",{...i}),(0,r.jsx)("label",{htmlFor:i.id,className:"ml-2 text-sm",children:t})]}):(0,r.jsx)("div",{className:"flex flex-col"+(a?" hidden":""),children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{htmlFor:i.id,className:"ml-2 mb-3",children:t}),(0,r.jsxs)("div",{className:"relative flex max-w-[400px]",children:[(0,r.jsx)("input",{...i,className:"bg-white-100 flex-1 rounded-2xl py-4 px-6 text-base border-none mb-3 "+i.className}),i.required&&l&&(0,r.jsx)("span",{className:"text-red-500 absolute right-4 top-[calc(50%-16px)]",children:"*"})]})]}):(0,r.jsxs)("div",{className:"relative flex max-w-[400px]",children:[(0,r.jsx)("input",{...i,className:"bg-white-100 flex-1 rounded-2xl py-4 px-6 text-base border-none mb-3 "+i.className}),i.required&&l&&(0,r.jsx)("span",{className:"text-red-500 absolute right-4 "+(s?"top-[calc(50%+2px)]":"top-[calc(50%-16px)]"),children:"*"})]})})}},8347:(e,l,t)=>{"use strict";t.d(l,{Z:()=>a});var r=t(7437);function a(e){let{label:l,...t}=e;return l&&l.length>0?(0,r.jsxs)("div",{className:"flex flex-col relative",children:[(0,r.jsx)("label",{htmlFor:t.id,className:"ml-2 mb-3",children:l}),(0,r.jsx)("textarea",{id:t.id,className:"bg-white-100 rounded-2xl py-4 px-6 text-base border-none mb-3 resize-y",...t})]}):(0,r.jsx)("textarea",{className:"bg-white-100 flex w-full max-w-[400px] rounded-2xl py-4 px-6 text-base border-none mb-3 resize-y",...t})}t(2265)},3160:(e,l,t)=>{"use strict";t.d(l,{default:()=>n});var r=t(7437),a=t(2265),i=t(1143),d=t(8064);let s=(0,d.createServerReference)("60a5b869ca4645c8d08ae632fe74b8d531c5a58bbe",d.callServer,void 0,d.findSourceMapURL,"deleteProductActon");function n(e){let{product:l}=e,[t,d,n]=(0,a.useActionState)(s,{data:{},ok:!1,error:null});return void 0===l?(0,r.jsx)("div",{children:"Product not found"}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("form",{className:"flex flex-col max-w-[400px] flex-1 mb-4",action:d,children:[(0,r.jsx)(i.Z,{hidden:!0,label:"id",defaultValue:l.id,type:"number",name:"id",id:"id",placeholder:"id",required:!0}),t.error&&(0,r.jsx)("pre",{children:JSON.stringify(t)}),(0,r.jsx)("button",{disabled:n,className:"bg-red-400 rounded-2xl py-4 px-6 text-base border-none mt-8 text-white-100 hover:bg-red-500 disabled:bg-gray-400",type:"submit",children:"Удалить"})]})})}},6849:(e,l,t)=>{"use strict";t.d(l,{default:()=>o});var r=t(7437),a=t(2265),i=t(1143),d=t(8347),s=t(7161),n=t(8064);let c=(0,n.createServerReference)("602386b55223fcc338d2106e0bdfff44d7a3f3f3ee",n.callServer,void 0,n.findSourceMapURL,"default");function o(e){let{product:l}=e,[t,n,o]=(0,a.useActionState)(c,{error:null,data:{}}),u=JSON.parse(l.images||"[]");if(u.length<5)for(let e=u.length;e<5;e++)u.push(null);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("form",{className:"flex flex-col mb-4",action:n,children:[(0,r.jsxs)("div",{className:"flex w-full justify-between",children:[(0,r.jsxs)("div",{className:"flex-1 max-w-[400px] mr-4",children:[(0,r.jsx)(i.Z,{label:"Название",defaultValue:l.title,type:"text",name:"title",id:"title",placeholder:"Название",required:!0}),(0,r.jsx)(d.Z,{label:"Описание",defaultValue:l.description||"",name:"description",id:"description",placeholder:"Описание"}),(0,r.jsx)(i.Z,{label:"Артикул",defaultValue:l.sku,type:"text",name:"sku",id:"sku",placeholder:"Артикул",required:!0}),(0,r.jsx)(i.Z,{label:"Цена",defaultValue:l.price,type:"number",name:"price",id:"price",placeholder:"Цена",required:!0})]}),(0,r.jsxs)("div",{className:"flex-1 mr-4",children:[(0,r.jsx)(i.Z,{label:"Скидка",defaultValue:l.discount||0,type:"number",name:"discount",id:"discount",placeholder:"Скидка"}),(0,r.jsx)(i.Z,{label:"Наличие",defaultValue:l.stock,type:"number",name:"stock",id:"stock",placeholder:"Наличие",required:!0}),(0,r.jsx)(i.Z,{label:"Категория",defaultValue:l.categoryId||"",type:"text",name:"categoryId",id:"categoryId",placeholder:"Категория [id]"}),(0,r.jsx)(i.Z,{label:"Ключевые слова",defaultValue:l.keywordsSearch||"",type:"text",name:"keywordsSearch",id:"keywordsSearch",placeholder:"Ключевые слова"})]})]}),(0,r.jsx)(i.Z,{hidden:!0,label:"id",defaultValue:l.id,type:"number",name:"id",id:"id",placeholder:"id",required:!0}),(0,r.jsx)(i.Z,{defaultChecked:l.isFeatured||void 0,label:"Добавить на главный экран",type:"checkbox",name:"isFeatured",id:"isFeatured"}),(0,r.jsx)(i.Z,{defaultChecked:l.isActive||void 0,label:"Активировать",type:"checkbox",name:"isActive",id:"isActive"}),(0,r.jsx)(s.Z,{label:"Превью",keyName:"preview",initialValue:l.previewImage}),(0,r.jsx)("h2",{className:"text-2xl mb-1",children:"Галерея"}),(0,r.jsx)("div",{className:"flex flex-wrap",children:u.map((e,l)=>(0,r.jsx)(s.Z,{label:"Изображение ".concat(l+1),keyName:"image".concat(l+1),initialValue:e},e+"".concat(l+1)))}),t.error&&(0,r.jsx)("pre",{children:JSON.stringify(t)}),(0,r.jsx)("button",{disabled:o,className:"bg-orange-400 rounded-2xl py-4 px-6 text-base border-none mt-8 text-white-100 hover:bg-orange-500 disabled:bg-gray-400",type:"submit",children:"Обновить"})]})})}}},e=>{var l=l=>e(e.s=l);e.O(0,[231,173,130,215,744],()=>l(453)),_N_E=e.O()}]);