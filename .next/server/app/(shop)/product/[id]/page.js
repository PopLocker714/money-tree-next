(()=>{var e={};e.id=770,e.ids=[770],e.modules={87550:e=>{"use strict";e.exports=require("better-sqlite3")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},29021:e=>{"use strict";e.exports=require("fs")},33873:e=>{"use strict";e.exports=require("path")},19771:e=>{"use strict";e.exports=require("process")},27910:e=>{"use strict";e.exports=require("stream")},79551:e=>{"use strict";e.exports=require("url")},74075:e=>{"use strict";e.exports=require("zlib")},26851:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l});var s=r(70260),n=r(28203),o=r(25155),i=r.n(o),a=r(67292),d={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>a[e]);r.d(t,d);let l=["",{children:["(shop)",{children:["product",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,50854)),"/Users/jojo/Documents/Projects/money-tree-next/src/app/(shop)/product/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,49890)),"/Users/jojo/Documents/Projects/money-tree-next/src/app/(shop)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/jojo/Documents/Projects/money-tree-next/src/app/(shop)/product/[id]/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/(shop)/product/[id]/page",pathname:"/product/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},37645:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,59607,23)),Promise.resolve().then(r.bind(r,34922)),Promise.resolve().then(r.bind(r,72514))},84909:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,28531,23)),Promise.resolve().then(r.bind(r,76678)),Promise.resolve().then(r.bind(r,22766))},45103:(e,t,r)=>{"use strict";r.d(t,{default:()=>n.a});var s=r(73864),n=r.n(s)},73864:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return d},getImageProps:function(){return a}});let s=r(25488),n=r(42034),o=r(41902),i=s._(r(21628));function a(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let d=o.Image},76678:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var s=r(45512),n=r(3342),o=r(28531),i=r.n(o),a=r(58009);function d({id:e,max:t}){let{cart:r,setCart:o}=(0,n._)(),[d,l]=(0,a.useState)(r[e]?.quantity||0),c=t=>{let s={...r};t>0?s[e]={id:e,quantity:t}:delete s[e],o(s)};return(0,s.jsx)("div",{children:d?(0,s.jsxs)("div",{className:"flex items-center my-8",children:[(0,s.jsx)("button",{className:"bg-orange-400 rounded-2xl text-center py-4 px-6 text-base border-none text-white-100 hover:bg-orange-500 disabled:bg-gray-400",disabled:0===d,onClick:()=>{let e=d-1;l(e),c(e)},children:"-"}),(0,s.jsx)("p",{className:"mx-2 text-xl",children:d}),(0,s.jsx)("button",{className:"mr-4 bg-orange-400 rounded-2xl py-4 px-6 text-base border-none text-white-100 hover:bg-orange-500 disabled:bg-gray-400",disabled:d===t,onClick:()=>{let e=d+1;l(e),c(e)},children:"+"}),(0,s.jsx)(i(),{className:"bg-orange-400 rounded-2xl py-4 px-6 text-base border-none text-white-100 hover:bg-orange-500 disabled:bg-gray-400",href:"/cart",children:"Купить"})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("button",{className:"bg-orange-400 rounded-2xl py-4 px-6 text-base border-none mt-8 text-white-100 hover:bg-orange-500 disabled:bg-gray-400",onClick:()=>{l(1),c(1)},children:"Добавить в корзину"})})})}},22766:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var s=r(45512),n=r(61361),o=r(9406),i=r(45103),a=r(58009),d=r(52693),l=r(14992);function c({images:e,preview:t}){let[r,c]=(0,a.useState)([]);return(0,s.jsxs)(l.RC,{className:"swiper min-w-full h-[500px]",navigation:{enabled:!0,nextEl:".swiper-button-next__product",prevEl:".swiper-button-prev__product"},modules:[d.Vx],slidesPerView:1,children:[r.map((e,t)=>e&&(0,s.jsx)(l.qr,{children:(0,s.jsx)(i.default,{width:500,height:500,src:e,alt:`Product image ${t+1}`,className:"w-full h-auto object-cover"})},"product-"+t)),(0,s.jsx)("button",{className:"swiper-button-prev swiper-button-prev__product",children:(0,s.jsx)(o.A,{})}),(0,s.jsx)("button",{className:"swiper-button-next swiper-button-next__product",children:(0,s.jsx)(n.A,{})})]})}},61361:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(45512);let n=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:8,height:14,fill:"none",...e,children:(0,s.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M1.375 12.25 6.625 7l-5.25-5.25"})})},9406:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(45512);let n=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:8,height:14,fill:"none",...e,children:(0,s.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6.625 12.25 1.375 7l5.25-5.25"})})},34922:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jojo/Documents/Projects/money-tree-next/src/app/(shop)/product/[id]/components/AddCart.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jojo/Documents/Projects/money-tree-next/src/app/(shop)/product/[id]/components/AddCart.tsx","default")},72514:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jojo/Documents/Projects/money-tree-next/src/app/(shop)/product/[id]/components/GalleryProduct.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jojo/Documents/Projects/money-tree-next/src/app/(shop)/product/[id]/components/GalleryProduct.tsx","default")},50854:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p,generateMetadata:()=>u});var s=r(62740),n=r(76078),o=r(29047),i=r(48590),a=r(47579),d=r(72514),l=r(34922),c=r(67084);async function u({params:e}){let t=(await e).id,r=await o.A.query.$Products.findFirst({where:(0,a.eq)(i.$Products.id,+t)});return r?{title:r.title,description:r.description}:{title:"Товар не найден",description:"Товар не найден"}}async function p({params:e}){let t=(await e).id,[r,u]=await Promise.all([o.A.query.$Products.findFirst({where:(0,a.eq)(i.$Products.id,+t),with:{category:!0}}),(0,c.b)()]);if(!r)return(0,s.jsx)("div",{className:"container",children:"Product not found"});let{discount:p,title:x,price:m,description:h,sku:f,stock:b,categoryId:g,deliveryInfo:j}=r,v=null!==g&&function e(t,r,s=[]){for(let n of t){if(n.id===r)return[...s,n];if(n.children&&n.children.length>0){let t=e(n.children,r,[...s,n]);if(t.length>0)return t}}return[]}(u,g),w=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0}).format(m),y=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0}).format(m-(p||0));return(0,s.jsxs)("div",{className:"container",children:[(0,s.jsxs)("div",{className:"flex my-4",children:[(0,s.jsx)(n.A,{text:"Главная",href:".."})," ",(0,s.jsx)("span",{className:"px-2",children:"/"})," ",(0,s.jsx)(n.A,{text:"Каталог",href:"/catalog"}),(0,s.jsx)("span",{className:"px-2",children:"/"})," ",v&&v.map(e=>(0,s.jsxs)("div",{children:[(0,s.jsx)(n.A,{text:e.name,href:`/catalog?${new URLSearchParams({category:JSON.stringify(function e(t){let r=[t.id];if(t.children&&t.children.length>0)for(let s of t.children)r.push(...e(s));return r}(e))})}`}),(0,s.jsx)("span",{className:"px-2",children:"/"})]},e.id))," ",x]}),(0,s.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,s.jsx)("div",{className:"flex-1 max-w-[48%]",children:(0,s.jsx)(d.default,{images:r.images,preview:r.previewImage||""})}),(0,s.jsxs)("div",{className:"flex-1 max-w-[48%] relative",children:[(0,s.jsx)("h1",{className:"text-3xl mb-4",children:r.title}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("p",{className:"text-1xl mb-6 text-gray-500",children:["Артикул: ",f," "]}),p?(0,s.jsxs)("p",{className:"text-green-400 flex items-center text-4xl font-bold w-fit",children:[y,(0,s.jsx)("span",{className:"line-through ml-1 text-gray-400 text-xl",children:w})]}):(0,s.jsx)("p",{className:"flex items-center text-4xl font-bold text-green-400 w-fit",children:w})]}),(0,s.jsx)(l.default,{id:t,max:b}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("p",{className:"font-medium",children:j})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl mb-2",children:"Описание"}),h]})]})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,641,77,715,595,621,837,791,260,759],()=>r(26851));module.exports=s})();