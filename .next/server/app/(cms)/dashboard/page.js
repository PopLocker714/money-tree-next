(()=>{var e={};e.id=375,e.ids=[375],e.modules={85890:e=>{"use strict";e.exports=require("better-sqlite3")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},209:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},79348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},17638:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>l});var s=r(49442),a=r(10042),n=r(48190),i=r.n(n),o=r(63289),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(t,d);let l=["",{children:["(cms)",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,11415)),"/Users/jojo/Documents/Projects/money-tree-next/src/app/(cms)/dashboard/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,19069)),"/Users/jojo/Documents/Projects/money-tree-next/src/app/(cms)/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,17004)),"/Users/jojo/Documents/Projects/money-tree-next/src/app/(cms)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,6042,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,6042,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/jojo/Documents/Projects/money-tree-next/src/app/(cms)/dashboard/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(cms)/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},48170:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"004ba786a57e0d7a81d69cfed44b0f540be569869a":()=>s.Z});var s=r(96111)},56994:()=>{},13184:()=>{},12975:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,46472,23)),Promise.resolve().then(r.t.bind(r,42461,23)),Promise.resolve().then(r.t.bind(r,48190,23)),Promise.resolve().then(r.t.bind(r,15282,23)),Promise.resolve().then(r.t.bind(r,56613,23)),Promise.resolve().then(r.t.bind(r,5486,23)),Promise.resolve().then(r.t.bind(r,58825,23))},750:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,52144,23)),Promise.resolve().then(r.t.bind(r,62302,23)),Promise.resolve().then(r.t.bind(r,63582,23)),Promise.resolve().then(r.t.bind(r,9587,23)),Promise.resolve().then(r.t.bind(r,65329,23)),Promise.resolve().then(r.t.bind(r,50599,23)),Promise.resolve().then(r.t.bind(r,62118,23))},18241:(e,t,r)=>{Promise.resolve().then(r.bind(r,53100))},28861:(e,t,r)=>{Promise.resolve().then(r.bind(r,43349))},78031:()=>{},35303:()=>{},88147:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var s=r(63606);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:o="",children:d,iconNode:l,...c},u)=>(0,s.createElement)("svg",{ref:u,...i,width:t,height:t,stroke:e,strokeWidth:a?24*Number(r)/Number(t):r,className:n("lucide",o),...c},[...l.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(d)?d:[d]])),d=(e,t)=>{let r=(0,s.forwardRef)(({className:r,...i},d)=>(0,s.createElement)(o,{ref:d,iconNode:t,className:n(`lucide-${a(e)}`,r),...i}));return r.displayName=`${e}`,r}},37899:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(88147).Z)("ChartBarStacked",[["path",{d:"M11 13v4",key:"vyy2rb"}],["path",{d:"M15 5v4",key:"1gx88a"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["rect",{x:"7",y:"13",width:"9",height:"4",rx:"1",key:"1iip1u"}],["rect",{x:"7",y:"5",width:"12",height:"4",rx:"1",key:"1anskk"}]])},16723:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(88147).Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},77973:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(88147).Z)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},2822:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(88147).Z)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},93383:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(88147).Z)("Shrub",[["path",{d:"M12 22v-7l-2-2",key:"eqv9mc"}],["path",{d:"M17 8v.8A6 6 0 0 1 13.8 20H10A6.5 6.5 0 0 1 7 8a5 5 0 0 1 10 0Z",key:"ubcgy"}],["path",{d:"m14 14-2 2",key:"847xa2"}]])},14971:(e,t,r)=>{"use strict";r.d(t,{default:()=>a.a});var s=r(39110),a=r.n(s)},85723:(e,t,r)=>{"use strict";r.d(t,{default:()=>a.a});var s=r(73510),a=r.n(s)},4619:(e,t,r)=>{"use strict";var s=r(9877);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},39110:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return d},getImageProps:function(){return o}});let s=r(54564),a=r(97877),n=r(62704),i=s._(r(81911));function o(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let d=n.Image},43349:(e,t,r)=>{"use strict";r.d(t,{default:()=>f});var s=r(20149),a=r(85723);r(63606);var n=r(8412);let i=(0,n.createServerReference)("004ba786a57e0d7a81d69cfed44b0f540be569869a",n.callServer,void 0,n.findSourceMapURL,"default");var o=r(14971);function d({href:e,children:t,currentPath:r,subChildren:n}){let i=r===e;return(0,s.jsxs)("li",{className:"nav-item",children:[(0,s.jsx)(a.default,{className:`nav-link flex ${i?"active":""}`,"aria-current":"page",href:e,children:t}),(0,s.jsx)("ul",{className:"ml-8 nav flex-column nav-pills",children:n})]})}var l=r(4619),c=r(77973),u=r(2822),m=r(16723),h=r(93383),p=r(37899);function f(){let e=(0,l.usePathname)();return(0,s.jsxs)("aside",{className:"col-md-3",children:[(0,s.jsx)(a.default,{className:"flex mt-2 mb-4",target:"_blank",href:"/",children:(0,s.jsx)(o.default,{src:"/Logo.png",alt:"Logo",width:"172",height:"56"})}),(0,s.jsxs)("ul",{className:"nav flex-column nav-pills ",children:[(0,s.jsxs)(d,{currentPath:e,href:"/dashboard",children:[(0,s.jsx)(c.Z,{className:"mr-2"}),"Главная"]}),(0,s.jsxs)(d,{currentPath:e,href:"/dashboard/orders",children:[(0,s.jsx)(u.Z,{className:"mr-2"}),"Заказы"]}),(0,s.jsxs)(d,{subChildren:(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(d,{currentPath:e,href:"/dashboard/products/new",children:[(0,s.jsx)(m.Z,{className:"mr-2"}),"Добавить товар"]})}),currentPath:e,href:"/dashboard/products",children:[(0,s.jsx)(h.Z,{className:"mr-2"}),"Товары"]}),(0,s.jsxs)(d,{currentPath:e,href:"/dashboard/categories",children:[(0,s.jsx)(p.Z,{className:"mr-2"}),"Категории"]}),(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsx)("form",{action:i,className:"d-flex",children:(0,s.jsx)("button",{className:"btn btn-outline-secondary",type:"submit",children:"Выйти"})})})]})]})}},96111:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(63722);r(20453);var a=r(64092),n=r(82557);async function i(){(await (0,a.Qk)()).set("session","",{expires:new Date(0)}),(0,n.redirect)("/login")}(0,r(46309).h)([i]),(0,s.j)(i,"004ba786a57e0d7a81d69cfed44b0f540be569869a",null)},53100:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(78105).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jojo/Documents/Projects/money-tree-next/src/app/(cms)/dashboard/components/Aside/Aside.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jojo/Documents/Projects/money-tree-next/src/app/(cms)/dashboard/components/Aside/Aside.tsx","default")},19069:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(47705),a=r(53100);async function n({children:e}){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"container",children:(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)(a.default,{}),(0,s.jsx)("main",{className:"col-md-9",children:e})]})})})}},11415:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>i});var s=r(47705),a=r(93726),n=r(59540);let i={title:"Dashboard",description:""};async function o(){await (0,n.connection)();let e=(await a.Z.query.$Products.findMany()).length;return(0,s.jsxs)("div",{className:"my-6",children:[(0,s.jsx)("h1",{className:"h3 mb-4",children:"Главная"}),(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("div",{className:"col-6 col-sm-3",children:(0,s.jsx)("div",{className:"card",children:(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsx)("h5",{className:"card-title",children:"Количество товаров"}),(0,s.jsx)("p",{className:"card-text",children:e})]})})})})]})}},17004:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>a,viewport:()=>n});var s=r(47705);r(47453),r(32528);let a={title:"dashboard",description:""},n={width:"device-width",initialScale:1};function i({children:e}){return(0,s.jsx)("html",{lang:"ru",children:(0,s.jsx)("body",{children:e})})}},93726:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var s=r(33333),a=r(85890),n=r.n(a),i=r(84160);let o=new(n())(process.env.DB_FILE_NAME),d=(0,s.t)({client:o,schema:i})},84160:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$Categories:()=>l,$Products:()=>h,$Users:()=>d,CategoryRelations:()=>m,ProductRelations:()=>v,insertCategorySchema:()=>c,insertProductSchema:()=>p,selectCategorySchema:()=>u,selectProductSchema:()=>f});var s=r(5357),a=r(89155),n=r(76718),i=r(20971),o=r(40745);let d=(0,a.Px)("users",{id:(0,n.e$)().primaryKey({autoIncrement:!0}),email:(0,i.fL)().notNull().unique(),password_hash:(0,i.fL)().notNull(),salt:(0,i.fL)().notNull()}),l=(0,a.Px)("categories",{id:(0,n.e$)().primaryKey({autoIncrement:!0}),name:(0,i.fL)("name").notNull(),parentId:(0,n._L)("parent_id").references(()=>l.id,{onDelete:"cascade"})}),c=(0,o.fC)(l),u=(0,o.IO)(l),m=(0,s.lE)(l,({one:e})=>({children:e(l,{fields:[l.parentId],references:[l.id]})})),h=(0,a.Px)("products",{id:(0,n._L)("id").primaryKey({autoIncrement:!0}),sku:(0,i.fL)("sku").notNull().unique(),title:(0,i.fL)("title").notNull(),description:(0,i.fL)("description"),price:(0,n._L)("price").notNull().default(0),discount:(0,n._L)("discount").default(0),stock:(0,n._L)("stock").notNull().default(0),previewImage:(0,i.fL)("previewImage"),images:(0,i.fL)("images").notNull().$default(()=>JSON.stringify([null,null,null,null,null])),categoryId:(0,n._L)("category_id").references(()=>l.id,{onDelete:"set null"}),keywordsSearch:(0,i.fL)("keywordsSearch"),isFeatured:(0,n._L)("isFeatured",{mode:"boolean"}).default(!1),isActive:(0,n._L)("isActive",{mode:"boolean"}).default(!0),createdAt:(0,i.fL)("createdAt").default(new Date().toISOString()).notNull(),updatedAt:(0,i.fL)("updatedAt").default(new Date().toISOString()).notNull()}),p=(0,o.fC)(h),f=(0,o.IO)(h),v=(0,s.lE)(h,({one:e})=>({category:e(l,{fields:[h.categoryId],references:[l.id]})}))},73881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(15394);let a=async e=>[{type:"image/x-icon",sizes:"32x31",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},32528:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[492,146,394,595,755,711,741,540],()=>r(17638));module.exports=s})();