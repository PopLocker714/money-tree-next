exports.id=550,exports.ids=[550],exports.modules={56994:()=>{},13184:()=>{},12975:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,46472,23)),Promise.resolve().then(s.t.bind(s,42461,23)),Promise.resolve().then(s.t.bind(s,48190,23)),Promise.resolve().then(s.t.bind(s,15282,23)),Promise.resolve().then(s.t.bind(s,56613,23)),Promise.resolve().then(s.t.bind(s,5486,23)),Promise.resolve().then(s.t.bind(s,58825,23))},750:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,52144,23)),Promise.resolve().then(s.t.bind(s,62302,23)),Promise.resolve().then(s.t.bind(s,63582,23)),Promise.resolve().then(s.t.bind(s,9587,23)),Promise.resolve().then(s.t.bind(s,65329,23)),Promise.resolve().then(s.t.bind(s,50599,23)),Promise.resolve().then(s.t.bind(s,62118,23))},18241:(e,t,s)=>{Promise.resolve().then(s.bind(s,53100))},28861:(e,t,s)=>{Promise.resolve().then(s.bind(s,43349))},43349:(e,t,s)=>{"use strict";s.d(t,{default:()=>f});var r=s(20149),a=s(85723);s(63606);var l=s(8412);let n=(0,l.createServerReference)("004ba786a57e0d7a81d69cfed44b0f540be569869a",l.callServer,void 0,l.findSourceMapURL,"default");var i=s(14971);function d({href:e,children:t,currentPath:s,subChildren:l}){let n=s===e;return(0,r.jsxs)("li",{className:"nav-item",children:[(0,r.jsx)(a.default,{className:`nav-link flex ${n?"active":""}`,"aria-current":"page",href:e,children:t}),(0,r.jsx)("ul",{className:"ml-8 nav flex-column nav-pills",children:l})]})}var o=s(4619),c=s(77973),u=s(2822),m=s(16723),h=s(93383),x=s(37899);function f(){let e=(0,o.usePathname)();return(0,r.jsxs)("aside",{className:"col-md-3",children:[(0,r.jsx)(a.default,{className:"flex mt-2 mb-4",target:"_blank",href:"/",children:(0,r.jsx)(i.default,{src:"/Logo.png",alt:"Logo",width:"172",height:"56"})}),(0,r.jsxs)("ul",{className:"nav flex-column nav-pills ",children:[(0,r.jsxs)(d,{currentPath:e,href:"/dashboard",children:[(0,r.jsx)(c.Z,{className:"mr-2"}),"Главная"]}),(0,r.jsxs)(d,{currentPath:e,href:"/dashboard/orders",children:[(0,r.jsx)(u.Z,{className:"mr-2"}),"Заказы"]}),(0,r.jsxs)(d,{subChildren:(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(d,{currentPath:e,href:"/dashboard/products/new",children:[(0,r.jsx)(m.Z,{className:"mr-2"}),"Добавить товар"]})}),currentPath:e,href:"/dashboard/products",children:[(0,r.jsx)(h.Z,{className:"mr-2"}),"Товары"]}),(0,r.jsxs)(d,{currentPath:e,href:"/dashboard/categories",children:[(0,r.jsx)(x.Z,{className:"mr-2"}),"Категории"]}),(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)("form",{action:n,className:"d-flex",children:(0,r.jsx)("button",{className:"btn btn-outline-secondary",type:"submit",children:"Выйти"})})})]})]})}},42347:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(20149),a=s(14971),l=s(63606);function n({initialValue:e=null,keyName:t,label:s}){let[n,i]=(0,l.useState)(e);return(0,r.jsxs)("div",{className:"flex flex-col",children:[s&&(0,r.jsx)("label",{htmlFor:t,children:s}),(0,r.jsx)("input",{onChange:e=>{let t=e.target.files?.[0];t&&i(URL.createObjectURL(t))},type:"file",name:t,id:t,accept:"image/*"}),n&&(0,r.jsx)(a.default,{src:n,alt:t,width:200,height:200,className:"w-[200px] h-[200px] object-cover"})]})}},61307:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(20149);function a({showRequired:e=!0,label:t,hidden:s,...a}){let l="checkbox"===a.type,n=t&&t.length>0;return l?(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("input",{...a}),(0,r.jsx)("label",{htmlFor:a.id,className:"ml-2 text-sm",children:t})]}):(0,r.jsx)("div",{className:"flex flex-col"+(s?" hidden":""),children:n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{htmlFor:a.id,className:"ml-2 mb-3",children:t}),(0,r.jsxs)("div",{className:"relative flex max-w-[400px]",children:[(0,r.jsx)("input",{...a,className:"bg-white-100 flex-1 rounded-2xl py-4 px-6 text-base border-none mb-3 "+a.className}),a.required&&e&&(0,r.jsx)("span",{className:"text-red-500 absolute right-4 top-[calc(50%-16px)]",children:"*"})]})]}):(0,r.jsxs)("div",{className:"relative flex max-w-[400px]",children:[(0,r.jsx)("input",{...a,className:"bg-white-100 flex-1 rounded-2xl py-4 px-6 text-base border-none mb-3 "+a.className}),a.required&&e&&(0,r.jsx)("span",{className:"text-red-500 absolute right-4 "+(n?"top-[calc(50%+2px)]":"top-[calc(50%-16px)]"),children:"*"})]})})}},81775:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(20149);function a({label:e,...t}){return e&&e.length>0?(0,r.jsxs)("div",{className:"flex flex-col relative",children:[(0,r.jsx)("label",{htmlFor:t.id,className:"ml-2 mb-3",children:e}),(0,r.jsx)("textarea",{id:t.id,className:"bg-white-100 rounded-2xl py-4 px-6 text-base border-none mb-3 resize-y",...t})]}):(0,r.jsx)("textarea",{className:"bg-white-100 flex w-full max-w-[400px] rounded-2xl py-4 px-6 text-base border-none mb-3 resize-y",...t})}s(63606)},96111:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(63722);s(20453);var a=s(64092),l=s(82557);async function n(){(await (0,a.Qk)()).set("session","",{expires:new Date(0)}),(0,l.redirect)("/login")}(0,s(46309).h)([n]),(0,r.j)(n,"004ba786a57e0d7a81d69cfed44b0f540be569869a",null)},53100:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(78105).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jojo/Documents/Projects/money-tree-next/src/app/(cms)/dashboard/components/Aside/Aside.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jojo/Documents/Projects/money-tree-next/src/app/(cms)/dashboard/components/Aside/Aside.tsx","default")},19069:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(47705),a=s(53100);async function l({children:e}){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)(a.default,{}),(0,r.jsx)("main",{className:"col-md-9",children:e})]})})})}},17004:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>a,viewport:()=>l});var r=s(47705);s(47453),s(32528);let a={title:"dashboard",description:""},l={width:"device-width",initialScale:1};function n({children:e}){return(0,r.jsx)("html",{lang:"ru",children:(0,r.jsx)("body",{children:e})})}},32169:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var r=s(79410),a=s(85890),l=s.n(a),n=s(95553);let i=new(l())(process.env.DB_FILE_NAME),d=(0,r.t)({client:i,schema:n})},95553:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$Categories:()=>o,$Products:()=>h,$Users:()=>d,CategoryRelations:()=>m,ProductRelations:()=>p,insertCategorySchema:()=>c,insertProductSchema:()=>x,selectCategorySchema:()=>u,selectProductSchema:()=>f});var r=s(99437),a=s(43642),l=s(78657),n=s(81867),i=s(43951);let d=(0,a.Px)("users",{id:(0,l.e$)().primaryKey({autoIncrement:!0}),email:(0,n.fL)().notNull().unique(),password_hash:(0,n.fL)().notNull(),salt:(0,n.fL)().notNull()}),o=(0,a.Px)("categories",{id:(0,l.e$)().primaryKey({autoIncrement:!0}),name:(0,n.fL)("name").notNull(),parentId:(0,l._L)("parent_id").references(()=>o.id,{onDelete:"cascade"})}),c=(0,i.fC)(o),u=(0,i.IO)(o),m=(0,r.lE)(o,({one:e})=>({children:e(o,{fields:[o.parentId],references:[o.id]})})),h=(0,a.Px)("products",{id:(0,l._L)("id").primaryKey({autoIncrement:!0}),sku:(0,n.fL)("sku").notNull().unique(),title:(0,n.fL)("title").notNull(),description:(0,n.fL)("description"),price:(0,l._L)("price").notNull().default(0),discount:(0,l._L)("discount").default(0),stock:(0,l._L)("stock").notNull().default(0),previewImage:(0,n.fL)("previewImage"),images:(0,n.fL)("images").notNull().$default(()=>JSON.stringify([null,null,null,null,null])),categoryId:(0,l._L)("category_id").references(()=>o.id,{onDelete:"set null"}),keywordsSearch:(0,n.fL)("keywordsSearch"),isFeatured:(0,l._L)("isFeatured",{mode:"boolean"}).default(!1),isActive:(0,l._L)("isActive",{mode:"boolean"}).default(!0),createdAt:(0,n.fL)("createdAt").default(new Date().toISOString()).notNull(),updatedAt:(0,n.fL)("updatedAt").default(new Date().toISOString()).notNull()}),x=(0,i.fC)(h),f=(0,i.IO)(h),p=(0,r.lE)(h,({one:e})=>({category:e(o,{fields:[h.categoryId],references:[o.id]})}))},28893:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var r=s(6005);s(93977),s(49411);var a=s(80186);async function l(e,t=""){let{data:s,error:n}=await a.Z.storage.from("products").upload(`${t?t+"_":""}${(0,r.randomUUID)()}`,e);return n?(console.log("SAVE FILE ERROR",n),{ok:!1,error:n.message,data:{}}):{ok:!0,error:null,data:`${process.env.PROJECT_SUPABASE_URL}/storage/v1/object/public/${s.fullPath}`}}},80186:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62132).eI)(process.env.PROJECT_SUPABASE_URL||"",process.env.PROJECT_SUPABASE_KEY||"")},73881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(15394);let a=async e=>[{type:"image/x-icon",sizes:"32x31",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},32528:()=>{}};