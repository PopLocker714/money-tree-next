exports.id=350,exports.ids=[350],exports.modules={73795:()=>{},39451:()=>{},58379:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,13219,23)),Promise.resolve().then(s.t.bind(s,34863,23)),Promise.resolve().then(s.t.bind(s,25155,23)),Promise.resolve().then(s.t.bind(s,40802,23)),Promise.resolve().then(s.t.bind(s,9350,23)),Promise.resolve().then(s.t.bind(s,48530,23)),Promise.resolve().then(s.t.bind(s,88921,23))},34403:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,66959,23)),Promise.resolve().then(s.t.bind(s,33875,23)),Promise.resolve().then(s.t.bind(s,88903,23)),Promise.resolve().then(s.t.bind(s,57174,23)),Promise.resolve().then(s.t.bind(s,84178,23)),Promise.resolve().then(s.t.bind(s,87190,23)),Promise.resolve().then(s.t.bind(s,61365,23))},58858:(e,t,s)=>{Promise.resolve().then(s.bind(s,56428))},21906:(e,t,s)=>{Promise.resolve().then(s.bind(s,6995))},6995:(e,t,s)=>{"use strict";s.d(t,{default:()=>p});var r=s(45512),a=s(28531),l=s.n(a);s(58009);var n=s(26248);let i=(0,n.createServerReference)("00d3778d75b49f3122ab04bb96b3a86b4afad37fb8",n.callServer,void 0,n.findSourceMapURL,"default");var d=s(45103);function o({href:e,children:t,currentPath:s,subChildren:a}){let n=s===e;return(0,r.jsxs)("li",{className:"nav-item",children:[(0,r.jsx)(l(),{className:`nav-link flex ${n?"active":""}`,"aria-current":"page",href:e,children:t}),(0,r.jsx)("ul",{className:"ml-8 nav flex-column nav-pills",children:a})]})}var c=s(79334),m=s(87137),u=s(10985),h=s(61606),x=s(30737),f=s(65201);function p(){let e=(0,c.usePathname)();return(0,r.jsxs)("aside",{className:"col-md-3",children:[(0,r.jsx)(l(),{className:"flex mt-2 mb-4",target:"_blank",href:"/",children:(0,r.jsx)(d.default,{src:"/Logo.png",alt:"Logo",width:"172",height:"56"})}),(0,r.jsxs)("ul",{className:"nav flex-column nav-pills ",children:[(0,r.jsxs)(o,{currentPath:e,href:"/dashboard",children:[(0,r.jsx)(m.A,{className:"mr-2"}),"Главная"]}),(0,r.jsxs)(o,{currentPath:e,href:"/dashboard/orders",children:[(0,r.jsx)(u.A,{className:"mr-2"}),"Заказы"]}),(0,r.jsxs)(o,{subChildren:(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(o,{currentPath:e,href:"/dashboard/products/new",children:[(0,r.jsx)(h.A,{className:"mr-2"}),"Добавить товар"]})}),currentPath:e,href:"/dashboard/products",children:[(0,r.jsx)(x.A,{className:"mr-2"}),"Товары"]}),(0,r.jsxs)(o,{currentPath:e,href:"/dashboard/categories",children:[(0,r.jsx)(f.A,{className:"mr-2"}),"Категории"]}),(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)("form",{action:i,className:"d-flex",children:(0,r.jsx)("button",{className:"btn btn-outline-secondary",type:"submit",children:"Выйти"})})})]})]})}},42748:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(45512),a=s(45103),l=s(58009);function n({initialValue:e=null,keyName:t,label:s}){let[n,i]=(0,l.useState)(e);return(0,r.jsxs)("div",{className:"flex flex-col",children:[s&&(0,r.jsx)("label",{htmlFor:t,children:s}),(0,r.jsx)("input",{onChange:e=>{let t=e.target.files?.[0];t&&i(URL.createObjectURL(t))},type:"file",name:t,id:t,accept:"image/*"}),n&&(0,r.jsx)(a.default,{src:n,alt:t,width:200,height:200,className:"w-[200px] h-[200px] object-cover"})]})}},21936:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(45512),a=s(82804);function l({showRequired:e=!0,label:t,hidden:s,...l}){let n="checkbox"===l.type,i="radio"===l.type,d=t&&t.length>0;return n?(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("input",{...l}),(0,r.jsx)("label",{htmlFor:l.id,className:"ml-2 text-sm",children:t})]}):i?(0,r.jsxs)("label",{htmlFor:l.id,className:"flex border border-gray-300 rounded-2xl p-3 mb-1",children:[(0,r.jsx)("input",{...l}),(0,r.jsxs)("div",{className:"flex justify-between w-full",children:[(0,r.jsx)("p",{className:"ml-2 text-lg",children:t}),(0,r.jsx)("p",{className:"mr-2 text-sm font-medium",children:a.C.get(Number(l.value)||1)?.cost.toLocaleString("ru-RU",{style:"currency",currency:"RUB"})})]})]}):(0,r.jsx)("div",{className:"flex flex-col"+(s?" hidden":""),children:d?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{htmlFor:l.id,className:"ml-2 mb-3",children:t}),(0,r.jsxs)("div",{className:"relative flex max-w-[400px]",children:[(0,r.jsx)("input",{...l,className:"bg-white-100 flex-1 rounded-2xl py-4 px-6 text-base border-none mb-3 "+l.className}),l.required&&e&&(0,r.jsx)("span",{className:"text-red-500 absolute right-4 top-[calc(50%-16px)]",children:"*"})]})]}):(0,r.jsxs)("div",{className:"relative flex max-w-[400px]",children:[(0,r.jsx)("input",{...l,className:"bg-white-100 flex-1 rounded-2xl py-4 px-6 text-base border-none mb-3 "+l.className}),l.required&&e&&(0,r.jsx)("span",{className:"text-red-500 absolute right-4 "+(d?"top-[calc(50%+2px)]":"top-[calc(50%-16px)]"),children:"*"})]})})}},52916:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(45512);function a({label:e,...t}){return e&&e.length>0?(0,r.jsxs)("div",{className:"flex flex-col relative",children:[(0,r.jsx)("label",{htmlFor:t.id,className:"ml-2 mb-3",children:e}),(0,r.jsx)("textarea",{id:t.id,className:"bg-white-100 rounded-2xl py-4 px-6 text-base border-none mb-3 resize-y",...t})]}):(0,r.jsx)("textarea",{className:"bg-white-100 flex w-full max-w-[400px] rounded-2xl py-4 px-6 text-base border-none mb-3 resize-y",...t})}s(58009)},82804:(e,t,s)=>{"use strict";s.d(t,{C:()=>r});let r=new Map([[1,{cost:0,title:"Самовывоз"}],[2,{cost:500,title:"Доставка СДЭК"}],[3,{cost:1e3,title:"Доставка Курьером"}],[4,{cost:1500,title:"Доставка почтой России"}]])},76449:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(21590);s(70376);var a=s(42385),l=s(99184);async function n(){(await (0,a.UL)()).set("session","",{expires:new Date(0)}),(0,l.redirect)("/login")}(0,s(99344).D)([n]),(0,r.A)(n,"00d3778d75b49f3122ab04bb96b3a86b4afad37fb8",null)},56428:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/jojo/Documents/money-tree-next/src/app/(cms)/dashboard/components/Aside/Aside.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/jojo/Documents/money-tree-next/src/app/(cms)/dashboard/components/Aside/Aside.tsx","default")},27922:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(62740),a=s(56428);async function l({children:e}){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)(a.default,{}),(0,r.jsx)("main",{className:"col-md-9",children:e})]})})})}},27805:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>a,viewport:()=>l});var r=s(62740);s(27209),s(11611);let a={title:"dashboard",description:""},l={width:"device-width",initialScale:1};function n({children:e}){return(0,r.jsx)("html",{lang:"ru",children:(0,r.jsx)("body",{children:e})})}},32496:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var r=s(39928),a=s(87550),l=s.n(a),n=s(70555);let i=new(l())(process.env.DB_FILE_NAME),d=(0,r.f)({client:i,schema:n})},70555:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$Categories:()=>o,$Products:()=>h,$Users:()=>d,CategoryRelations:()=>u,ProductRelations:()=>p,insertCategorySchema:()=>c,insertProductSchema:()=>x,selectCategorySchema:()=>m,selectProductSchema:()=>f});var r=s(36108),a=s(67401),l=s(88944),n=s(44979),i=s(29357);let d=(0,a.D)("users",{id:(0,l.Wh)().primaryKey({autoIncrement:!0}),email:(0,n.Qq)().notNull().unique(),password_hash:(0,n.Qq)().notNull(),salt:(0,n.Qq)().notNull()}),o=(0,a.D)("categories",{id:(0,l.Wh)().primaryKey({autoIncrement:!0}),name:(0,n.Qq)("name").notNull(),parentId:(0,l.nd)("parent_id").references(()=>o.id,{onDelete:"cascade"})}),c=(0,i.r)(o),m=(0,i.aJ)(o),u=(0,r.K1)(o,({one:e})=>({children:e(o,{fields:[o.parentId],references:[o.id]})})),h=(0,a.D)("products",{id:(0,l.nd)("id").primaryKey({autoIncrement:!0}),sku:(0,n.Qq)("sku").notNull().unique(),title:(0,n.Qq)("title").notNull(),description:(0,n.Qq)("description"),price:(0,l.nd)("price").notNull().default(0),discount:(0,l.nd)("discount").default(0),stock:(0,l.nd)("stock").notNull().default(0),previewImage:(0,n.Qq)("previewImage"),images:(0,n.Qq)("images").notNull().$default(()=>JSON.stringify([null,null,null,null,null])),categoryId:(0,l.nd)("category_id").references(()=>o.id,{onDelete:"set null"}),keywordsSearch:(0,n.Qq)("keywordsSearch"),isFeatured:(0,l.nd)("isFeatured",{mode:"boolean"}).default(!1),isActive:(0,l.nd)("isActive",{mode:"boolean"}).default(!0),createdAt:(0,n.Qq)("createdAt").default(new Date().toISOString()).notNull(),updatedAt:(0,n.Qq)("updatedAt").default(new Date().toISOString()).notNull()}),x=(0,i.r)(h),f=(0,i.aJ)(h),p=(0,r.K1)(h,({one:e})=>({category:e(o,{fields:[h.categoryId],references:[o.id]})}))},29432:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(77598);s(51455),s(76760);var a=s(75380);async function l(e,t=""){let{data:s,error:n}=await a.A.storage.from("products").upload(`${t?t+"_":""}${(0,r.randomUUID)()}`,e);return n?(console.log("SAVE FILE ERROR",n),{ok:!1,error:n.message,data:{}}):{ok:!0,error:null,data:`${process.env.PROJECT_SUPABASE_URL}/storage/v1/object/public/${s.fullPath}`}}},75380:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(25602).UU)(process.env.PROJECT_SUPABASE_URL||"",process.env.PROJECT_SUPABASE_KEY||"")},70440:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(88077);let a=async e=>[{type:"image/x-icon",sizes:"32x31",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},11611:()=>{}};