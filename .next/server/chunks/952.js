exports.id=952,exports.ids=[952],exports.modules={78562:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,60903,23)),Promise.resolve().then(s.t.bind(s,90821,23))},69160:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,62704,23)),Promise.resolve().then(s.t.bind(s,73510,23))},12975:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,46472,23)),Promise.resolve().then(s.t.bind(s,42461,23)),Promise.resolve().then(s.t.bind(s,48190,23)),Promise.resolve().then(s.t.bind(s,15282,23)),Promise.resolve().then(s.t.bind(s,56613,23)),Promise.resolve().then(s.t.bind(s,5486,23)),Promise.resolve().then(s.t.bind(s,58825,23))},750:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,52144,23)),Promise.resolve().then(s.t.bind(s,62302,23)),Promise.resolve().then(s.t.bind(s,63582,23)),Promise.resolve().then(s.t.bind(s,9587,23)),Promise.resolve().then(s.t.bind(s,65329,23)),Promise.resolve().then(s.t.bind(s,50599,23)),Promise.resolve().then(s.t.bind(s,62118,23))},35621:(e,t,s)=>{"use strict";s.d(t,{x4:()=>m,kS:()=>x,Eu:()=>p});var r=s(64443);s(98356);var a=s(78051),n=s(41037),i=s(18201),l=s(71623),c=s(99069),o=s(6005),d=s(41715);s(59540);let h=new TextEncoder().encode(process.env.JWT_SECRET);async function f(e,t){return await new d.N(e).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime(t).sign(h)}var u=s(35413);async function m(e,t){let s=t.get("email"),r=t.get("password");if(!s||!r||"string"!=typeof s||"string"!=typeof r)return{error:"Please fill all fields"};let d=await n.Z.query.$Users.findFirst({where:(0,c.eq)(i.$Users.email,s)});if(!d||!function(e,t,s){let r=(0,o.pbkdf2Sync)(e,s,1e3,64,"sha512").toString("hex");return(0,o.timingSafeEqual)(Buffer.from(t,"hex"),Buffer.from(r,"hex"))}(r,d.password_hash,d.salt))return{error:"Incorrect password or email"};let h=new Date(Date.now()+1e3*Number(process.env.AUTH_EXP_TIME)),u=await f({email:d.email,expires:h},h);(await (0,a.Qk)()).set("session",u,{httpOnly:!0,expires:h}),(0,l.redirect)("/dashboard")}async function x(){(await (0,a.Qk)()).set("session","",{expires:new Date(0)}),(0,l.redirect)("/login")}let p=async e=>{let t=e.get("name"),s=e.get("phone");t&&s&&"string"==typeof t&&"string"==typeof s&&(fetch(`https://api.telegram.org/bot${process.env.BOT_TOKEN||""}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:process.env.BOT_CHAT_ID,text:`
  Запрос на обратный звонок!
Имя: ${t}
Телефон: ${s}
        `,parse_mode:"HTML"})}).then(e=>e.json()).catch(e=>console.log(e)),(0,l.redirect)("/"))};(0,u.h)([m,x,p]),(0,r.j)(m,"60733165a81806f76bca9ca237ec627afa66ddfb88",null),(0,r.j)(x,"009a49c3c7e72416c7e7772ada709aa7259d120393",null),(0,r.j)(p,"7fa6f0ca50f458c86b57f843295b1765411572f0e0",null)},98158:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m,metadata:()=>f,viewport:()=>u});var r=s(47705),a=s(73129),n=s.n(a);s(67272);var i=s(23496),l=s(76217);function c(e){return(0,r.jsx)(l.default,{...e,children:e?.children})}function o({text:e,href:t}){return(0,r.jsx)(i.default,{className:"link",href:t,children:e})}function d(){return(0,r.jsxs)("nav",{className:"container mx-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between flex-wrap pt-4 pb-2",children:[(0,r.jsxs)("div",{className:"flex flex-1 max-w-[280px] justify-between",children:[(0,r.jsx)(o,{text:"Статьи",href:"/"}),(0,r.jsx)(o,{text:"Доставка",href:"/"}),(0,r.jsx)(o,{text:"Оплата",href:"/"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center min-w-[380px]",children:[(0,r.jsx)(o,{text:"Обратный звонок",href:"/recall"}),(0,r.jsx)("span",{className:"bg-gray-300 w-[1px] h-[20px]"}),(0,r.jsx)("a",{className:"text-green-400 font-medium",href:"tel:+79001111111",children:"+7-900-111-11-11"}),(0,r.jsx)("span",{className:"bg-gray-300 w-[1px] h-[20px]"}),(0,r.jsx)("a",{className:"text-green-400",href:"https://wa.me/whatsappphonenumber",children:(0,r.jsx)("svg",{fill:"currentColor",height:"20",width:"20",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 308 308",children:(0,r.jsxs)("g",{id:"XMLID_468_",children:[(0,r.jsx)("path",{id:"XMLID_469_",d:"M227.904,176.981c-0.6-0.288-23.054-11.345-27.044-12.781c-1.629-0.585-3.374-1.156-5.23-1.156 c-3.032,0-5.579,1.511-7.563,4.479c-2.243,3.334-9.033,11.271-11.131,13.642c-0.274,0.313-0.648,0.687-0.872,0.687 c-0.201,0-3.676-1.431-4.728-1.888c-24.087-10.463-42.37-35.624-44.877-39.867c-0.358-0.61-0.373-0.887-0.376-0.887 c0.088-0.323,0.898-1.135,1.316-1.554c1.223-1.21,2.548-2.805,3.83-4.348c0.607-0.731,1.215-1.463,1.812-2.153 c1.86-2.164,2.688-3.844,3.648-5.79l0.503-1.011c2.344-4.657,0.342-8.587-0.305-9.856c-0.531-1.062-10.012-23.944-11.02-26.348 c-2.424-5.801-5.627-8.502-10.078-8.502c-0.413,0,0,0-1.732,0.073c-2.109,0.089-13.594,1.601-18.672,4.802 c-5.385,3.395-14.495,14.217-14.495,33.249c0,17.129,10.87,33.302,15.537,39.453c0.116,0.155,0.329,0.47,0.638,0.922 c17.873,26.102,40.154,45.446,62.741,54.469c21.745,8.686,32.042,9.69,37.896,9.69c0.001,0,0.001,0,0.001,0 c2.46,0,4.429-0.193,6.166-0.364l1.102-0.105c7.512-0.666,24.02-9.22,27.775-19.655c2.958-8.219,3.738-17.199,1.77-20.458 C233.168,179.508,230.845,178.393,227.904,176.981z"}),(0,r.jsx)("path",{id:"XMLID_470_",d:"M156.734,0C73.318,0,5.454,67.354,5.454,150.143c0,26.777,7.166,52.988,20.741,75.928L0.212,302.716 c-0.484,1.429-0.124,3.009,0.933,4.085C1.908,307.58,2.943,308,4,308c0.405,0,0.813-0.061,1.211-0.188l79.92-25.396 c21.87,11.685,46.588,17.853,71.604,17.853C240.143,300.27,308,232.923,308,150.143C308,67.354,240.143,0,156.734,0z  M156.734,268.994c-23.539,0-46.338-6.797-65.936-19.657c-0.659-0.433-1.424-0.655-2.194-0.655c-0.407,0-0.815,0.062-1.212,0.188 l-40.035,12.726l12.924-38.129c0.418-1.234,0.209-2.595-0.561-3.647c-14.924-20.392-22.813-44.485-22.813-69.677 c0-65.543,53.754-118.867,119.826-118.867c66.064,0,119.812,53.324,119.812,118.867 C276.546,215.678,222.799,268.994,156.734,268.994z"})]})})})]})]}),(0,r.jsx)("span",{className:"flex bg-gray-100 w-full h-[1px] mb-2"}),(0,r.jsxs)("div",{className:"flex justify-between items-center ",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between max-w-[320px] w-full",children:[(0,r.jsx)(i.default,{href:"/",children:(0,r.jsx)(c,{width:172,alt:"Денежное дерево",height:56,src:"/Logo.png"})}),(0,r.jsxs)(i.default,{className:"text-green-400 flex items-center",href:"/catalog",children:[(0,r.jsxs)("svg",{className:"mr-2",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M2.5 6.5C2.5 4.61438 2.5 3.67157 3.08579 3.08579C3.67157 2.5 4.61438 2.5 6.5 2.5C8.38562 2.5 9.32843 2.5 9.91421 3.08579C10.5 3.67157 10.5 4.61438 10.5 6.5C10.5 8.38562 10.5 9.32843 9.91421 9.91421C9.32843 10.5 8.38562 10.5 6.5 10.5C4.61438 10.5 3.67157 10.5 3.08579 9.91421C2.5 9.32843 2.5 8.38562 2.5 6.5Z",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("path",{d:"M13.5 17.5C13.5 15.6144 13.5 14.6716 14.0858 14.0858C14.6716 13.5 15.6144 13.5 17.5 13.5C19.3856 13.5 20.3284 13.5 20.9142 14.0858C21.5 14.6716 21.5 15.6144 21.5 17.5C21.5 19.3856 21.5 20.3284 20.9142 20.9142C20.3284 21.5 19.3856 21.5 17.5 21.5C15.6144 21.5 14.6716 21.5 14.0858 20.9142C13.5 20.3284 13.5 19.3856 13.5 17.5Z",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("path",{d:"M2.5 17.5C2.5 15.6144 2.5 14.6716 3.08579 14.0858C3.67157 13.5 4.61438 13.5 6.5 13.5C8.38562 13.5 9.32843 13.5 9.91421 14.0858C10.5 14.6716 10.5 15.6144 10.5 17.5C10.5 19.3856 10.5 20.3284 9.91421 20.9142C9.32843 21.5 8.38562 21.5 6.5 21.5C4.61438 21.5 3.67157 21.5 3.08579 20.9142C2.5 20.3284 2.5 19.3856 2.5 17.5Z",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("path",{d:"M13.5 6.5C13.5 4.61438 13.5 3.67157 14.0858 3.08579C14.6716 2.5 15.6144 2.5 17.5 2.5C19.3856 2.5 20.3284 2.5 20.9142 3.08579C21.5 3.67157 21.5 4.61438 21.5 6.5C21.5 8.38562 21.5 9.32843 20.9142 9.91421C20.3284 10.5 19.3856 10.5 17.5 10.5C15.6144 10.5 14.6716 10.5 14.0858 9.91421C13.5 9.32843 13.5 8.38562 13.5 6.5Z",stroke:"#44BC1E",strokeWidth:"1.5"})]}),(0,r.jsx)("span",{children:"Каталог"})]})]}),(0,r.jsxs)("div",{className:"flex justify-between max-w-[90px] w-full",children:[(0,r.jsx)(i.default,{"aria-label":"Корзина",href:"/cart",children:(0,r.jsxs)("svg",{className:"text-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",children:[(0,r.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",d:"m2.667 4 .353.118c1.76.586 2.64.88 3.143 1.578.504.698.504 1.626.504 3.481v3.49c0 3.77 0 5.656 1.171 6.828 1.172 1.172 3.057 1.172 6.829 1.172h10.666"}),(0,r.jsx)("path",{stroke:"currentColor",strokeWidth:"2",d:"M10 24a2 2 0 1 1 0 4 2 2 0 0 1 0-4ZM22 24a2 2 0 1 1 0 4 2 2 0 0 1 0-4ZM6.667 8h15.267c2.74 0 4.11 0 4.703.899.592.899.053 2.158-1.027 4.677l-.571 1.333c-.504 1.176-.756 1.764-1.257 2.094-.5.33-1.14.33-2.42.33H6.667"})]})}),(0,r.jsx)(i.default,{"aria-label":"Войти",href:"/login",children:(0,r.jsx)("svg",{className:"text-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",children:(0,r.jsx)("path",{stroke:"currentColor",strokeWidth:"2",d:"M16 13.334a5.333 5.333 0 1 0 0-10.667 5.333 5.333 0 0 0 0 10.667ZM16 28c5.155 0 9.333-2.388 9.333-5.334 0-2.945-4.178-5.333-9.333-5.333s-9.333 2.388-9.333 5.333C6.667 25.612 10.845 28 16 28Z"})})})]})]})]})}function h(){return(0,r.jsx)("footer",{className:"container mx-auto",children:(0,r.jsx)("p",{className:"",children:"Footer"})})}let f={title:"Денежное дерево",description:""},u={width:"device-width",initialScale:1};function m({children:e}){return(0,r.jsx)("html",{lang:"ru",children:(0,r.jsxs)("body",{className:`${n().className} antialiased`,children:[(0,r.jsx)(d,{}),e,(0,r.jsx)(h,{})]})})}},41037:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var r=s(54797),a=s(85890),n=s.n(a),i=s(18201);let l=new(n())(process.env.DB_FILE_NAME),c=(0,r.t)({client:l,schema:i})},18201:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$Categories:()=>c,$Products:()=>h,$Users:()=>l,insertCategorySchema:()=>o,insertProductSchema:()=>f,selectCategorySchema:()=>d,selectProductSchema:()=>u});var r=s(89155),a=s(76718),n=s(20971),i=s(57670);let l=(0,r.Px)("users",{id:(0,a.e$)().primaryKey({autoIncrement:!0}),email:(0,n.fL)().notNull().unique(),password_hash:(0,n.fL)().notNull(),salt:(0,n.fL)().notNull()}),c=(0,r.Px)("categories",{id:(0,a.e$)().primaryKey({autoIncrement:!0}),name:(0,n.fL)("name").notNull(),parentId:(0,a._L)("parent_id").references(()=>c.id,{onDelete:"cascade"})}),o=(0,i.fC)(c),d=(0,i.IO)(c),h=(0,r.Px)("products",{id:(0,a._L)("id").primaryKey({autoIncrement:!0}),sku:(0,n.fL)("sku").notNull().unique(),title:(0,n.fL)("title").notNull(),description:(0,n.fL)("description"),price:(0,a._L)("price").notNull().default(0),discount:(0,a._L)("discount").default(0),stock:(0,a._L)("stock").notNull().default(0),previewImage:(0,n.fL)("previewImage"),images:(0,n.fL)("images"),categoryId:(0,a._L)("category_id").references(()=>c.id,{onDelete:"set null"}),keywordsSearch:(0,n.fL)("keywordsSearch"),isFeatured:(0,a._L)("isFeatured",{mode:"boolean"}).default(!1),isActive:(0,a._L)("isActive",{mode:"boolean"}).default(!0),createdAt:(0,n.fL)("createdAt").default(new Date().toISOString()),updatedAt:(0,n.fL)("updatedAt").default(new Date().toISOString())}),f=(0,i.fC)(h),u=(0,i.IO)(h)},57481:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(15394);let a=async e=>[{type:"image/x-icon",sizes:"32x31",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},67272:()=>{}};