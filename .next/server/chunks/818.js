exports.id=818,exports.ids=[818],exports.modules={12071:()=>{},93919:()=>{},57103:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,13219,23)),Promise.resolve().then(r.t.bind(r,34863,23)),Promise.resolve().then(r.t.bind(r,25155,23)),Promise.resolve().then(r.t.bind(r,40802,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,48530,23)),Promise.resolve().then(r.t.bind(r,88921,23))},65351:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,66959,23)),Promise.resolve().then(r.t.bind(r,33875,23)),Promise.resolve().then(r.t.bind(r,88903,23)),Promise.resolve().then(r.t.bind(r,57174,23)),Promise.resolve().then(r.t.bind(r,84178,23)),Promise.resolve().then(r.t.bind(r,87190,23)),Promise.resolve().then(r.t.bind(r,61365,23))},64678:(e,t,r)=>{Promise.resolve().then(r.bind(r,56428))},50766:(e,t,r)=>{Promise.resolve().then(r.bind(r,72177))},72177:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var s=r(45512),a=r(28531),l=r.n(a);r(58009);var n=r(26248);let i=(0,n.createServerReference)("0043db7377118ae4cd953faab11b3911fa7d70785f",n.callServer,void 0,n.findSourceMapURL,"default");var d=r(45103);function o({href:e,children:t,currentPath:r,subChildren:a}){let n=r===e;return(0,s.jsxs)("li",{className:"nav-item",children:[(0,s.jsx)(l(),{className:`nav-link flex ${n?"active":""}`,"aria-current":"page",href:e,children:t}),(0,s.jsx)("ul",{className:"ml-8 nav flex-column nav-pills",children:a})]})}var c=r(79334),m=r(87137),u=r(10985),h=r(61606),x=r(30737),f=r(65201);function p(){let e=(0,c.usePathname)();return(0,s.jsxs)("aside",{className:"col-md-3",children:[(0,s.jsx)(l(),{className:"flex mt-2 mb-4",target:"_blank",href:"/",children:(0,s.jsx)(d.default,{src:"/Logo.png",alt:"Logo",width:"172",height:"56"})}),(0,s.jsxs)("ul",{className:"nav flex-column nav-pills ",children:[(0,s.jsxs)(o,{currentPath:e,href:"/dashboard",children:[(0,s.jsx)(m.A,{className:"mr-2"}),"Главная"]}),(0,s.jsxs)(o,{currentPath:e,href:"/dashboard/orders",children:[(0,s.jsx)(u.A,{className:"mr-2"}),"Заказы"]}),(0,s.jsxs)(o,{subChildren:(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(o,{currentPath:e,href:"/dashboard/products/new",children:[(0,s.jsx)(h.A,{className:"mr-2"}),"Добавить товар"]})}),currentPath:e,href:"/dashboard/products",children:[(0,s.jsx)(x.A,{className:"mr-2"}),"Товары"]}),(0,s.jsxs)(o,{currentPath:e,href:"/dashboard/categories",children:[(0,s.jsx)(f.A,{className:"mr-2"}),"Категории"]}),(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsx)("form",{action:i,className:"d-flex",children:(0,s.jsx)("button",{className:"btn btn-outline-secondary",type:"submit",children:"Выйти"})})})]})]})}},42748:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(45512),a=r(45103),l=r(58009);function n({initialValue:e=null,keyName:t,label:r}){let[n,i]=(0,l.useState)(e);return(0,s.jsxs)("div",{className:"flex flex-col",children:[r&&(0,s.jsx)("label",{htmlFor:t,children:r}),(0,s.jsx)("input",{onChange:e=>{let t=e.target.files?.[0];t&&i(URL.createObjectURL(t))},type:"file",name:t,id:t,accept:"image/*"}),n&&(0,s.jsx)(a.default,{src:n,alt:t,width:200,height:200,className:"w-[200px] h-[200px] object-cover"})]})}},21936:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(45512),a=r(82804);function l({showRequired:e=!0,label:t,hidden:r,...l}){let n="checkbox"===l.type,i="radio"===l.type,d=t&&t.length>0;return n?(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("input",{...l}),(0,s.jsx)("label",{htmlFor:l.id,className:"ml-2 text-sm",children:t})]}):i?(0,s.jsxs)("label",{htmlFor:l.id,className:"flex border border-gray-300 rounded-2xl p-3 mb-1",children:[(0,s.jsx)("input",{...l}),(0,s.jsxs)("div",{className:"flex justify-between w-full",children:[(0,s.jsx)("p",{className:"ml-2 text-lg",children:t}),(0,s.jsx)("p",{className:"mr-2 text-sm font-medium",children:a.C.get(Number(l.value)||1)?.cost.toLocaleString("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0})})]})]}):(0,s.jsx)("div",{className:"flex flex-col"+(r?" hidden":""),children:d?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("label",{htmlFor:l.id,className:"ml-2 mb-3",children:t}),(0,s.jsxs)("div",{className:"relative flex max-w-[400px]",children:[(0,s.jsx)("input",{...l,className:"bg-white-100 flex-1 rounded-2xl py-4 px-6 text-base border-none mb-3 "+l.className}),l.required&&e&&(0,s.jsx)("span",{className:"text-red-500 absolute right-4 top-[calc(50%-16px)]",children:"*"})]})]}):(0,s.jsxs)("div",{className:"relative flex max-w-[400px]",children:[(0,s.jsx)("input",{...l,className:"bg-white-100 flex-1 rounded-2xl py-4 px-6 text-base border-none mb-3 "+l.className}),l.required&&e&&(0,s.jsx)("span",{className:"text-red-500 absolute right-4 "+(d?"top-[calc(50%+2px)]":"top-[calc(50%-16px)]"),children:"*"})]})})}},52916:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(45512);function a({label:e,...t}){return e&&e.length>0?(0,s.jsxs)("div",{className:"flex flex-col relative",children:[(0,s.jsx)("label",{htmlFor:t.id,className:"ml-2 mb-3",children:e}),(0,s.jsx)("textarea",{id:t.id,className:"bg-white-100 rounded-2xl py-4 px-6 text-base border-none mb-3 resize-y",...t})]}):(0,s.jsx)("textarea",{className:"bg-white-100 flex w-full max-w-[400px] rounded-2xl py-4 px-6 text-base border-none mb-3 resize-y",...t})}r(58009)},82804:(e,t,r)=>{"use strict";r.d(t,{C:()=>s});let s=new Map([[1,{cost:900,title:"Доставка ТК"}],[4,{cost:650,title:"Доставка почтой России"}]])},76449:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(21590);r(70376);var a=r(42385),l=r(99184);async function n(){(await (0,a.UL)()).set("session","",{expires:new Date(0)}),(0,l.redirect)("/login")}(0,r(99344).D)([n]),(0,s.A)(n,"0043db7377118ae4cd953faab11b3911fa7d70785f",null)},56428:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jojo/Documents/Projects/money-tree-next/src/app/(cms)/dashboard/components/Aside/Aside.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jojo/Documents/Projects/money-tree-next/src/app/(cms)/dashboard/components/Aside/Aside.tsx","default")},27922:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(62740),a=r(56428);async function l({children:e}){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"container",children:(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)(a.default,{}),(0,s.jsx)("main",{className:"col-md-9",children:e})]})})})}},27805:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>a,viewport:()=>l});var s=r(62740);r(27209),r(11611);let a={title:"dashboard",description:""},l={width:"device-width",initialScale:1};function n({children:e}){return(0,s.jsx)("html",{lang:"ru",children:(0,s.jsx)("body",{children:e})})}},32496:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var s=r(39928),a=r(87550),l=r.n(a),n=r(70555);let i=new(l())(process.env.DB_FILE_NAME),d=(0,s.f)({client:i,schema:n})},70555:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$Categories:()=>o,$Products:()=>h,$Users:()=>d,CategoryRelations:()=>u,ProductRelations:()=>p,insertCategorySchema:()=>c,insertProductSchema:()=>x,selectCategorySchema:()=>m,selectProductSchema:()=>f});var s=r(36108),a=r(67401),l=r(88944),n=r(44979),i=r(29357);let d=(0,a.D)("users",{id:(0,l.Wh)().primaryKey({autoIncrement:!0}),email:(0,n.Qq)().notNull().unique(),password_hash:(0,n.Qq)().notNull(),salt:(0,n.Qq)().notNull()}),o=(0,a.D)("categories",{id:(0,l.Wh)().primaryKey({autoIncrement:!0}),name:(0,n.Qq)("name").notNull(),content:(0,n.Qq)("content"),parentId:(0,l.nd)("parent_id").references(()=>o.id,{onDelete:"cascade"})}),c=(0,i.r)(o),m=(0,i.aJ)(o),u=(0,s.K1)(o,({one:e})=>({children:e(o,{fields:[o.parentId],references:[o.id]})})),h=(0,a.D)("products",{id:(0,l.nd)("id").primaryKey({autoIncrement:!0}),sku:(0,n.Qq)("sku").notNull().unique(),title:(0,n.Qq)("title").notNull(),description:(0,n.Qq)("description"),price:(0,l.nd)("price").notNull().default(0),discount:(0,l.nd)("discount").default(0),stock:(0,l.nd)("stock").notNull().default(0),previewImage:(0,n.Qq)("previewImage"),images:(0,n.Qq)("images").notNull().$default(()=>JSON.stringify([null,null,null,null,null])),categoryId:(0,l.nd)("category_id").references(()=>o.id,{onDelete:"set null"}),keywordsSearch:(0,n.Qq)("keywordsSearch"),isFeatured:(0,l.nd)("isFeatured",{mode:"boolean"}).default(!1),isActive:(0,l.nd)("isActive",{mode:"boolean"}).default(!0),deliveryInfo:(0,n.Qq)("deliveryInfo").default(""),createdAt:(0,n.Qq)("createdAt").$defaultFn(()=>new Date().toISOString()).notNull(),updatedAt:(0,n.Qq)("updatedAt").$defaultFn(()=>new Date().toISOString()).notNull()}),x=(0,i.r)(h),f=(0,i.aJ)(h),p=(0,s.K1)(h,({one:e})=>({category:e(o,{fields:[h.categoryId],references:[o.id]})}))},29432:(e,t,r)=>{"use strict";r.d(t,{l:()=>i});var s=r(77598),a=r(51455),l=r(76760),n=r.n(l);async function i(e,t=""){let r=await e.arrayBuffer(),l=Buffer.from(r),d=e.type.split("/")[1]||"dat",o=`${t?t+"_":""}${(0,s.randomUUID)()}.${d}`,c=n().join(process.cwd(),"static","uploads"),m=n().join(c,o);try{await (0,a.mkdir)(c,{recursive:!0})}catch(e){return console.error("Ошибка при создании директории:",e),{ok:!1,error:"Не удалось создать директорию",data:{}}}return await (0,a.writeFile)(m,l).then(()=>({ok:!0,error:null,data:`/api/file?pathname=/static/uploads/${o}`})).catch(e=>(console.error("Ошибка при записи файла:",e),e instanceof Error)?{ok:!1,error:e.message,data:{}}:{ok:!1,error:"Unknown error",data:{}})}r(75380)},75380:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(25602).UU)(process.env.PROJECT_SUPABASE_URL||"",process.env.PROJECT_SUPABASE_KEY||"")},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(88077);let a=async e=>[{type:"image/x-icon",sizes:"32x31",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},11611:()=>{}};